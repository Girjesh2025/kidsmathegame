<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kids Math Game</title>
<style>
    body {
        font-family: Arial, sans-serif;
        background: #fdf6e3;
        text-align: center;
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }
    h1 {
        color: #ff3366;
        margin-top: 20px;
    }
    .container {
        padding: 20px;
    }
    .mode-buttons button {
        padding: 15px 25px;
        margin: 10px;
        font-size: 18px;
        border: none;
        border-radius: 8px;
        background-color: #4cafef;
        color: white;
        cursor: pointer;
        transition: background 0.3s;
    }
    .mode-buttons button:hover {
        background-color: #3a9cd9;
    }
    #question {
        font-size: 40px;
        margin: 20px 0;
        font-weight: bold;
        color: #333;
        opacity: 0;
        transition: opacity 0.5s ease-in-out;
    }
    #answer {
        padding: 12px;
        font-size: 20px;
        width: 120px;
        border-radius: 8px;
        border: 2px solid #ff3366;
        text-align: center;
    }
    .check-btn {
        padding: 12px 20px;
        font-size: 18px;
        margin-top: 15px;
        border-radius: 8px;
        border: none;
        background-color: #28a745;
        color: white;
        cursor: pointer;
    }
    #feedback {
        font-size: 20px;
        margin-top: 15px;
    }
    #score, #coins {
        font-size: 20px;
        margin-top: 10px;
        color: #d63384;
    }
    .coin {
        font-size: 30px;
        position: fixed;
        animation: fall 1s linear forwards;
        z-index: 999;
    }
    @keyframes fall {
        0% { transform: translateY(0); opacity: 1; }
        100% { transform: translateY(100px); opacity: 0; }
    }
    /* Falling Confetti */
    .confetti {
        position: fixed;
        top: -10px;
        width: 10px;
        height: 10px;
        background-color: red;
        opacity: 0.9;
        animation: confettiFall linear forwards;
        z-index: 9999;
    }
    @keyframes confettiFall {
        to { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
</style>
</head>
<body>
    <div class="container">
        <h1>🎯 Kissu ji  Math Game</h1>
        
        <div class="mode-buttons">
            <button onclick="setMode('add')">Addition ➕</button>
            <button onclick="setMode('sub')">Subtraction ➖</button>
        </div>

        <div class="game">
            <div id="question">Press a mode to start</div>
            <input type="number" id="answer" placeholder="Your answer">
            <br>
            <button class="check-btn" onclick="checkAnswer()">Check</button>
        </div>

        <div id="feedback"></div>
        <div id="score">Score: 0</div>
        <div id="coins">🪙 Coins: 0</div>
    </div>

<script>
    let mode = null;
    let num1, num2, correctAnswer;
    let score = 0;
    let coins = 0;

    function setMode(selectedMode) {
        mode = selectedMode;
        score = 0;
        coins = 0;
        updateUI();
        generateQuestion();
    }

    function generateQuestion() {
        num1 = Math.floor(Math.random() * 10) + 1;
        num2 = Math.floor(Math.random() * 10) + 1;

        if (mode === "sub" && num2 > num1) {
            [num1, num2] = [num2, num1];
        }

        correctAnswer = mode === "add" ? num1 + num2 : num1 - num2;
        let questionElem = document.getElementById("question");
        questionElem.style.opacity = 0;
        setTimeout(() => {
            questionElem.innerText = `${num1} ${mode === "add" ? "+" : "-"} ${num2} = ?`;
            questionElem.style.opacity = 1;
        }, 200);

        document.getElementById("answer").value = "";
        document.getElementById("feedback").innerText = "";
    }

    function checkAnswer() {
        let userAnswer = parseInt(document.getElementById("answer").value);
        if (userAnswer === correctAnswer) {
            score++;
            coins += 10;
            document.getElementById("feedback").innerHTML = "✅ शाबाश!";
            speak("शाबाश! सही जवाब");
            dropCoin();
            fallingConfetti();
        } else {
            document.getElementById("feedback").innerHTML = `❌ सही जवाब था ${correctAnswer}`;
            speak(`गलत जवाब, सही जवाब है ${correctAnswer}`);
        }
        updateUI();
        setTimeout(generateQuestion, 1500);
    }

    function updateUI() {
        document.getElementById("score").innerText = "Score: " + score;
        document.getElementById("coins").innerText = "🪙 Coins: " + coins;
    }

    function dropCoin() {
        let coin = document.createElement("div");
        coin.className = "coin";
        coin.innerText = "🪙";
        coin.style.left = (Math.random() * window.innerWidth) + "px";
        coin.style.top = "50px";
        document.body.appendChild(coin);
        setTimeout(() => coin.remove(), 1000);
    }

    function fallingConfetti() {
        let colors = ['#ff0', '#0f0', '#00f', '#f0f', '#0ff', '#f00', '#ffa500', '#00ced1'];
        for (let i = 0; i < 50; i++) {
            let confetti = document.createElement("div");
            confetti.className = "confetti";
            confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            confetti.style.left = Math.random() * window.innerWidth + "px";
            confetti.style.animationDuration = (Math.random() * 2 + 2) + "s";
            confetti.style.width = confetti.style.height = (Math.random() * 8 + 5) + "px";
            document.body.appendChild(confetti);
            setTimeout(() => confetti.remove(), 3000);
        }
    }

    // Text-to-Speech
    function speak(text) {
        let utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = "hi-IN";
        utterance.rate = 1;
        utterance.pitch = 1;
        speechSynthesis.speak(utterance);
    }
</script>
</body>
</html>
